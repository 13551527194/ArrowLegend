{
  "code": "import { ui } from \"./../ui/layaMaxUI\";\r\nexport default class HeroBlood extends ui.test.BloodUIUI {\r\n    constructor() {\r\n        super();\r\n        this._rect = new Laya.Rectangle();\r\n        this.shape = new Laya.Sprite();\r\n        this.shape.y = this.bar.y + 2;\r\n    }\r\n    init(data) {\r\n        this.gameData = data;\r\n        this._rect.x = 0;\r\n        this._rect.y = 0;\r\n        this._rect.width = this.gameData.hp / this.gameData.maxhp * this.width;\r\n        this._rect.height = 17;\r\n        this.bar.scrollRect = this._rect;\r\n        this.txt.text = \"\" + this.gameData.hp;\r\n        this.colBox.removeChildren();\r\n        var size = this.gameData.maxhp / 200;\r\n        var ww = this.width / size;\r\n        for (var i = 1; i < size; i++) {\r\n            var gang = new Laya.Image();\r\n            gang.skin = \"bg/xuetiaogang.png\";\r\n            this.colBox.addChild(gang);\r\n            gang.y = 2;\r\n            gang.x = ww * i;\r\n        }\r\n    }\r\n    update(hurt) {\r\n        this.gameData.hp -= hurt;\r\n        this.gameData.hp = Math.max(this.gameData.hp, 0);\r\n        this._rect.width = this.gameData.hp / this.gameData.maxhp * this.width;\r\n        this.bar.scrollRect = this._rect;\r\n        this.txt.text = \"\" + this.gameData.hp;\r\n        Laya.Tween.clearTween(this.shape);\r\n        this.shape.graphics.clear();\r\n        this.shape.graphics.drawRect(0, 0, hurt / this.gameData.maxhp * this.width, 13, \"#ffffff\");\r\n        this.addChild(this.shape);\r\n        this.shape.x = this._rect.width;\r\n        Laya.Tween.to(this.shape, { width: 0 }, 300, null, new Laya.Handler(this, this.onCom));\r\n        if (this.gameData.hp == 0) {\r\n            this.removeSelf();\r\n        }\r\n    }\r\n    onCom() {\r\n        this.shape.removeSelf();\r\n    }\r\n}\r\n",
  "references": [
    "D:/gitworker/Game3DUP/src/ui/layaMaxUI.ts",
    "D:/gitworker/Game3DUP/src/game/GameData.ts"
  ]
}
