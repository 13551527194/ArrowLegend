{
  "code": "import { ui } from \"./../../../../ui/layaMaxUI\";\r\nimport Game from \"../../../../game/Game\";\r\nexport default class RebornView extends ui.test.ReborthUI {\r\n    constructor() {\r\n        super();\r\n        this.closeBtn.clickHandler = new Laya.Handler(this, this.onClose);\r\n        this.rebornBtn.clickHandler = new Laya.Handler(this, this.onReborn);\r\n        this.shape = new Laya.Sprite();\r\n        this.on(Laya.Event.DISPLAY, this, this.onDis);\r\n    }\r\n    onDis() {\r\n        this.txt.text = \"\" + Game.rebornTimes;\r\n        this._curTime = 5;\r\n        this.daojishi.text = \"\" + this._curTime;\r\n        Laya.timer.loop(1000, this, this.onLoop2);\r\n    }\r\n    onLoop2() {\r\n        this._curTime--;\r\n        this.daojishi.text = \"\" + this._curTime;\r\n        if (this._curTime <= 0) {\r\n            Laya.timer.clear(this, this.onLoop2);\r\n            this.onClose();\r\n        }\r\n    }\r\n    onLoop() {\r\n        if (this._curTime == 0) {\r\n            this.clearTimer(this, this.onLoop);\r\n            return;\r\n        }\r\n        this._curTime--;\r\n        console.log(\"------------\", this._curTime);\r\n        this.shape.graphics.clear();\r\n        this.jindu.mask = this.shape;\r\n        this.shape.graphics.drawPie(this.centerBox.x, this.centerBox.y, 81, 90, 90 + (5000 - this._curTime) / 5000 * 360, \"#ff0000\");\r\n    }\r\n    onClose() {\r\n        this.removeSelf();\r\n        Game.rebornTimes = 0;\r\n        Laya.stage.event(Game.Event_MAIN_DIE);\r\n    }\r\n    onReborn() {\r\n        Laya.timer.clear(this, this.onLoop2);\r\n        this.removeSelf();\r\n        Game.hero.reborn();\r\n    }\r\n    removeSelf() {\r\n        Game.state = 0;\r\n        return super.removeSelf();\r\n    }\r\n}\r\n",
  "references": [
    "D:/gitworker/Game3DUP/src/ui/layaMaxUI.ts",
    "D:/gitworker/Game3DUP/src/game/Game.ts",
    "D:/gitworker/Game3DUP/src/core/App.ts"
  ]
}
