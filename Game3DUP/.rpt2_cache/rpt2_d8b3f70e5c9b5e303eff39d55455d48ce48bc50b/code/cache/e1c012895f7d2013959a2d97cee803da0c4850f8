{
  "code": "import PlayerBuff from \"./PlayerBuff\";\r\nimport Game from \"../../Game\";\r\nimport App from \"../../../core/App\";\r\nimport SysBuff from \"../../../main/sys/SysBuff\";\r\nimport SysSkill from \"../../../main/sys/SysSkill\";\r\nexport default class IceBuff extends PlayerBuff {\r\n    constructor(id) {\r\n        super();\r\n        this.isExe = false;\r\n        this.skill = App.tableManager.getDataByNameAndId(SysSkill.NAME, id);\r\n        this.buff = App.tableManager.getDataByNameAndId(SysBuff.NAME, this.skill.skillEffect1);\r\n    }\r\n    exe(now) {\r\n        let nt = now - this.startTime;\r\n        nt = nt / this.buff.buffCD;\r\n        if (nt >= 1) {\r\n            console.log(\"移除冰冻buff\");\r\n            Game.buffM.removeBuff(this);\r\n            return;\r\n        }\r\n        let nt2 = now - this.startTime;\r\n        nt2 = nt2 / this.buff.buffDot;\r\n        if (nt2 >= 1) {\r\n            this.to.offCie();\r\n        }\r\n        this.onCie();\r\n    }\r\n    onCie() {\r\n        if (this.isExe) {\r\n            return;\r\n        }\r\n        this.isExe = true;\r\n        this.to.onCie();\r\n        if (this.buff.damagePercent > 0) {\r\n            if (this.skill.skilltarget == 2) {\r\n                this.bullet.hurtValue = Math.floor(this.hurtValue * this.buff.damagePercent / 100);\r\n                this.to.hit(this.bullet, true);\r\n            }\r\n        }\r\n    }\r\n}\r\n",
  "references": [
    "D:/gitworker/Game3DUP/src/game/skill/player/PlayerBuff.ts",
    "D:/gitworker/Game3DUP/src/game/Game.ts",
    "D:/gitworker/Game3DUP/src/core/App.ts",
    "D:/gitworker/Game3DUP/src/main/sys/SysBuff.ts",
    "D:/gitworker/Game3DUP/src/game/player/Monster.ts",
    "D:/gitworker/Game3DUP/src/main/sys/SysSkill.ts",
    "D:/gitworker/Game3DUP/src/game/player/HeroBullet.ts",
    "D:/gitworker/Game3DUP/src/game/GamePro.ts"
  ]
}
