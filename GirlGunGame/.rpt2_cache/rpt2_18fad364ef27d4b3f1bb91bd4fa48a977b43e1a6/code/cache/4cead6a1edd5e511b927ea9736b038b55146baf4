{
  "code": "import BaseAI from \"./BaseAi\";\r\nimport GameBG from \"../GameBG\";\r\nimport Game from \"../Game\";\r\nimport { GameAI } from \"./GameAI\";\r\nexport default class RandMoveAI extends BaseAI {\r\n    constructor(pro) {\r\n        super(pro);\r\n        this.cd = 0;\r\n        this.status = 0;\r\n        pro.setSpeed(this.sysEnemy.moveSpeed);\r\n        if (RandMoveAI.timdex >= 3) {\r\n            RandMoveAI.timdex = 0;\r\n        }\r\n        this.cd = Game.executor.getWorldNow() + RandMoveAI.timdex * 500;\r\n        RandMoveAI.timdex++;\r\n    }\r\n    exeAI(pro) {\r\n        if (!this.run_)\r\n            return;\r\n        super.exeAI(pro);\r\n        this.checkHeroCollision();\r\n        if (this.pro.isIce) {\r\n            return;\r\n        }\r\n        if (this.status == 0 && this.now >= this.cd) {\r\n            this.status = 1;\r\n            this.cd = this.now + this.sysEnemy.enemySpeed;\r\n            let randIndex = Math.floor(Math.random() * 12);\r\n            this.pro.rotation((Math.PI / 8) * RandMoveAI.dirs[randIndex]);\r\n            this.pro.play(GameAI.Run);\r\n        }\r\n        else if (this.status == 1 && this.now >= this.cd) {\r\n            this.status = 0;\r\n            this.cd = this.now + this.sysEnemy.enemySpeed;\r\n            this.pro.play(GameAI.Idle);\r\n        }\r\n        if (this.status == 1) {\r\n            this.pro.move2D(this.pro.face2d);\r\n        }\r\n    }\r\n    exeAI0(pro) {\r\n        if (!this.run_)\r\n            return;\r\n        super.exeAI(pro);\r\n        this.checkHeroCollision();\r\n        if (this.status == 0 && this.now >= this.cd) {\r\n            this.cd = this.now + this.sysEnemy.enemySpeed;\r\n            this.status = 1;\r\n            let toArr = Game.getRandPos(this.pro);\r\n            let toX = toArr[0] * GameBG.ww;\r\n            let toY = toArr[1] * GameBG.ww;\r\n            this.pro.curLen = 0;\r\n            this.pro.moveLen = Math.sqrt((this.pro.hbox.y - toY) * (this.pro.hbox.y - toY) + (this.pro.hbox.x - toX) * (this.pro.hbox.x - toX));\r\n            var xx = toX - this.pro.hbox.x;\r\n            var yy = this.pro.hbox.y - toY;\r\n            this.pro.rotation(Math.atan2(yy, xx));\r\n        }\r\n        else if (this.status == 1 && this.now >= this.cd) {\r\n            this.cd = this.now + this.sysEnemy.enemySpeed;\r\n            this.status = 0;\r\n        }\r\n        if (this.status == 1) {\r\n            this.pro.move2D(this.pro.face2d);\r\n        }\r\n    }\r\n}\r\nRandMoveAI.timdex = 0;\r\nRandMoveAI.dirs = [1, 2, 3, 5, 6, 7, 9, 10, 11, 13, 14, 15];\r\n",
  "references": [
    "D:/GirlGunGame/GirlGunGame/src/game/ai/BaseAi.ts",
    "D:/GirlGunGame/GirlGunGame/src/game/player/Monster.ts",
    "D:/GirlGunGame/GirlGunGame/src/game/GamePro.ts",
    "D:/GirlGunGame/GirlGunGame/src/game/GameBG.ts",
    "D:/GirlGunGame/GirlGunGame/src/game/Game.ts",
    "D:/GirlGunGame/GirlGunGame/src/game/ai/GameAI.ts"
  ]
}
