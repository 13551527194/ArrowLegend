{
  "code": "import { ui } from \"../../ui/layaMaxUI\";\r\nimport Session from \"../Session\";\r\nimport Log from \"../../Log\";\r\nexport default class GuideManager {\r\n    constructor() {\r\n        this.handMv = new ui.test.newhand1UI();\r\n        this.maskLayer = new Laya.Box();\r\n        this.target = null;\r\n        this.nextStat = 0;\r\n        this.autoStop = false;\r\n        this.maskLayer = new Laya.Box();\r\n        this.maskLayer.size(Laya.stage.width, Laya.stage.height);\r\n        this.maskLayer.mouseThrough = false;\r\n        this.maskLayer.zOrder = 1000000;\r\n        this.maskLayer.mouseEnabled = true;\r\n    }\r\n    static getInstance() {\r\n        if (GuideManager.g == null) {\r\n            GuideManager.g = new GuideManager();\r\n        }\r\n        return GuideManager.g;\r\n    }\r\n    hand(target, x = 0, y = 0, nextStat, delay = 0, autoStop = false) {\r\n        Laya.timer.once(delay, this, () => {\r\n            this.autoStop = autoStop;\r\n            this.target = target;\r\n            this.nextStat = nextStat;\r\n            this.handMv.visible = true;\r\n            Laya.stage.addChild(this.handMv);\r\n            this.handMv.zOrder = 1000;\r\n            let p = target.localToGlobal(new Laya.Point(0, 0));\r\n            this.handMv.pos(p.x + x, p.y + y);\r\n            this.handMv.lightClip.interval = 1000 / 15;\r\n            this.handMv.lightClip.play();\r\n            this.handMv.ani1.interval = 1000 / 10;\r\n            this.handMv.ani1.play(0, true);\r\n            Laya.stage.on(Laya.Event.CLICK, this, this.clickFun);\r\n            Laya.stage.addChild(this.maskLayer);\r\n        });\r\n    }\r\n    clickFun(e) {\r\n        let r = this.target.getBounds();\r\n        let p = this.target.localToGlobal(new Laya.Point(0, 0));\r\n        let r1 = new Laya.Rectangle(p.x, p.y, r.width, r.height);\r\n        let cc = r1.contains(Laya.stage.mouseX, Laya.stage.mouseY);\r\n        if (cc) {\r\n            Session.homeData.newStat = this.nextStat;\r\n            Log.log(1000 + this.nextStat);\r\n            Session.saveData();\r\n            this.target.event(Laya.Event.CLICK, e);\r\n            this.handMv.visible = false;\r\n            if (this.autoStop) {\r\n                this.removeMask();\r\n            }\r\n        }\r\n    }\r\n    removeMask() {\r\n        this.maskLayer.removeSelf();\r\n    }\r\n}\r\nGuideManager.g = null;\r\nexport var Guide_Type;\r\n(function (Guide_Type) {\r\n    Guide_Type[Guide_Type[\"click_talent\"] = 1] = \"click_talent\";\r\n    Guide_Type[Guide_Type[\"talent_lv_up\"] = 2] = \"talent_lv_up\";\r\n    Guide_Type[Guide_Type[\"select_talent\"] = 3] = \"select_talent\";\r\n    Guide_Type[Guide_Type[\"open_role\"] = 4] = \"open_role\";\r\n    Guide_Type[Guide_Type[\"click_hp\"] = 5] = \"click_hp\";\r\n    Guide_Type[Guide_Type[\"over\"] = 6] = \"over\";\r\n})(Guide_Type || (Guide_Type = {}));\r\n",
  "references": [
    "D:/gitworker/GirlGunGame/src/ui/layaMaxUI.ts",
    "D:/gitworker/GirlGunGame/src/main/Session.ts",
    "D:/gitworker/GirlGunGame/src/Log.ts"
  ]
}
