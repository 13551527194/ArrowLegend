{
  "code": "import { ui } from \"./../../../../ui/layaMaxUI\";\r\nimport Game from \"../../../../game/Game\";\r\nimport SkillGrid from \"../SkillGrid\";\r\nimport SysNpc from \"../../../sys/SysNpc\";\r\nimport App from \"../../../../core/App\";\r\nexport default class NPC_1001_view extends ui.test.tianshi_1UI {\r\n    constructor() {\r\n        super();\r\n        this.grid1 = new SkillGrid(new Laya.Handler(this, this.onClick));\r\n        this.grid2 = new SkillGrid(new Laya.Handler(this, this.onClick));\r\n        this.queding.visible = false;\r\n        this.box1.addChild(this.grid1);\r\n        this.box2.addChild(this.grid2);\r\n        this.on(Laya.Event.DISPLAY, this, this.onDis);\r\n    }\r\n    onClick(sys) {\r\n        console.log(sys.skillName);\r\n        if (!Game.hero.changeBlood(sys)) {\r\n            Game.skillManager.addSkill(sys);\r\n        }\r\n        Game.bg.clearNpc();\r\n        this.removeSelf();\r\n    }\r\n    onDis() {\r\n        Game.executor.stop_();\r\n        let id = Game.battleLoader.chapterId == 1 ? 1006 : 1001;\r\n        let sys = App.tableManager.getDataByNameAndId(SysNpc.NAME, id);\r\n        this.box1.scaleX = 1;\r\n        this.box2.scaleX = 1;\r\n        this.grid1.update(Game.skillManager.getRandomSkillByNpcId(id));\r\n        this.grid2.update(sys.skillId);\r\n    }\r\n    removeSelf() {\r\n        Game.executor.start();\r\n        Game.state = 0;\r\n        return super.removeSelf();\r\n    }\r\n}\r\n",
  "references": [
    "D:/gitworker/GirlGunGame/src/ui/layaMaxUI.ts",
    "D:/gitworker/GirlGunGame/src/game/Game.ts",
    "D:/gitworker/GirlGunGame/src/main/scene/battle/SkillGrid.ts",
    "D:/gitworker/GirlGunGame/src/main/sys/SysSkill.ts",
    "D:/gitworker/GirlGunGame/src/main/sys/SysNpc.ts",
    "D:/gitworker/GirlGunGame/src/core/App.ts",
    "D:/gitworker/GirlGunGame/src/main/sys/SysBuff.ts"
  ]
}
