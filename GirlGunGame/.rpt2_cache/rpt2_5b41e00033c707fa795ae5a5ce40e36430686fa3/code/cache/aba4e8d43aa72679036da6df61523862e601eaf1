{
  "code": "import App from \"../../core/App\";\r\nimport Session from \"../../main/Session\";\r\nimport SysMap from \"../../main/sys/SysMap\";\r\nexport default class RankData {\r\n    constructor() {\r\n    }\r\n    setData(data) {\r\n    }\r\n    saveData(data) {\r\n    }\r\n    initData(data) {\r\n    }\r\n    saveWorldRank() {\r\n        let obj = {};\r\n        obj.skey = Session.SKEY;\r\n        obj.name = \"荒野女枪\";\r\n        obj.scorestr = this.getStageNum();\r\n        obj.url = \"main/suo.png\";\r\n        obj.item = 0;\r\n        if (Laya.Browser.onMiniGame == false) {\r\n            App.http(App.serverIP + \"gamex3/saveRank\", obj, \"post\");\r\n            return;\r\n        }\r\n        if (App.sdkManager.haveRight == false) {\r\n            return;\r\n        }\r\n        obj.name = App.sdkManager.wxName;\r\n        obj.url = App.sdkManager.wxHead;\r\n        App.http(App.serverIP + \"gamex3/saveRank\", obj, \"post\");\r\n    }\r\n    getStageNum() {\r\n        let t = 0;\r\n        for (let i = 1; i < Session.homeData.chapterId; i++) {\r\n            t += SysMap.getTotal(i);\r\n        }\r\n        t += Session.homeData.mapIndex;\r\n        return t;\r\n    }\r\n    getRank(caller, listener) {\r\n        let obj = {};\r\n        obj.skey = Session.SKEY;\r\n        obj.st = 0;\r\n        obj.et = 50;\r\n        App.http(App.serverIP + \"gamex3/getRank\", obj, \"GET\", caller, listener);\r\n    }\r\n    saveFriendRank() {\r\n        if (Laya.Browser.onMiniGame == false) {\r\n            return;\r\n        }\r\n        var obj = {};\r\n        var o1 = {};\r\n        o1.key = \"stageNum\";\r\n        o1.value = Session.homeData.chapterId + \"\";\r\n        obj[\"KVDataList\"] = [o1];\r\n        obj.success = (res) => {\r\n            console.log(\"存储好友排行榜成功\", res);\r\n        };\r\n        obj.fail = (res) => {\r\n            console.log(\"存储好友排行榜失败\", res);\r\n        };\r\n        Laya.Browser.window.wx.setUserCloudStorage(obj);\r\n    }\r\n}\r\n",
  "references": [
    "D:/GirlGunGame/GirlGunGame/src/game/data/IData.ts",
    "D:/GirlGunGame/GirlGunGame/src/core/App.ts",
    "D:/GirlGunGame/GirlGunGame/src/main/Session.ts",
    "D:/GirlGunGame/GirlGunGame/src/main/sys/SysMap.ts"
  ]
}
