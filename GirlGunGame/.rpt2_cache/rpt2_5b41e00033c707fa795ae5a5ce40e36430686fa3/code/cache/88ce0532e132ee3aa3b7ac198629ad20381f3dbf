{
  "code": "import Game from \"../Game\";\r\nimport { GameMove } from \"./GameMove\";\r\nimport Monster from \"../player/Monster\";\r\nimport RandMoveAI from \"../ai/RandMoveAI\";\r\nexport default class PlaneGameMove extends GameMove {\r\n    move2d(n, pro, speed) {\r\n        if (pro.gamedata.hp <= 0) {\r\n            return;\r\n        }\r\n        var vx = pro.speed * Math.cos(n);\r\n        var vz = pro.speed * Math.sin(n);\r\n        if (pro instanceof Monster) {\r\n            if (Game.map0.chechHit(pro, vx, vz)) {\r\n                if (vz != 0 && Game.map0.chechHit(pro, vx, 0)) {\r\n                    vx = 0;\r\n                    vz = (vz < 0 ? -1 : 1) * pro.speed;\r\n                    if (pro.getGameAi() instanceof RandMoveAI) {\r\n                        let randIndex = Math.floor(Math.random() * 12);\r\n                        pro.rotation((Math.PI / 8) * RandMoveAI.dirs[randIndex]);\r\n                    }\r\n                }\r\n                if (vx != 0 && Game.map0.chechHit(pro, 0, vz)) {\r\n                    vz = 0;\r\n                    vx = (vx < 0 ? -1 : 1) * pro.speed;\r\n                    if (pro.getGameAi() instanceof RandMoveAI) {\r\n                        let randIndex = Math.floor(Math.random() * 12);\r\n                        pro.rotation((Math.PI / 8) * RandMoveAI.dirs[randIndex]);\r\n                    }\r\n                }\r\n                if (Game.map0.chechHit(pro, vx, vz)) {\r\n                    if (pro.getGameAi() instanceof RandMoveAI) {\r\n                        let randIndex = Math.floor(Math.random() * 12);\r\n                        pro.rotation((Math.PI / 8) * RandMoveAI.dirs[randIndex]);\r\n                    }\r\n                    return false;\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            if (Game.map0.chechHit(pro, vx, vz)) {\r\n                if (vz != 0 && Game.map0.chechHit(pro, vx, 0)) {\r\n                    vx = 0;\r\n                    vz = (vz < 0 ? -1 : 1) * pro.speed;\r\n                }\r\n                if (vx != 0 && Game.map0.chechHit(pro, 0, vz)) {\r\n                    vz = 0;\r\n                    vx = (vx < 0 ? -1 : 1) * pro.speed;\r\n                }\r\n                if (Game.map0.chechHit(pro, vx, vz)) {\r\n                    return false;\r\n                }\r\n            }\r\n        }\r\n        if (!this.Blocking(pro, vx, vz)) {\r\n            return false;\r\n        }\r\n        pro.setXY2D(pro.pos2.x + vx, pro.pos2.z + vz);\r\n        return true;\r\n    }\r\n}\r\n",
  "references": [
    "D:/GirlGunGame/GirlGunGame/src/game/Game.ts",
    "D:/GirlGunGame/GirlGunGame/src/game/GamePro.ts",
    "D:/GirlGunGame/GirlGunGame/src/game/move/GameMove.ts",
    "D:/GirlGunGame/GirlGunGame/src/game/player/Monster.ts",
    "D:/GirlGunGame/GirlGunGame/src/game/ai/GameAI.ts",
    "D:/GirlGunGame/GirlGunGame/src/game/ai/RandMoveAI.ts"
  ]
}
